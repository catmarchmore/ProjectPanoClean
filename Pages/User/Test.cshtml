@page
@model ProjectPano.Pages.User.TestModel
@{
}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<h1>Job List</h1>

<br />
<br />

<p>Start typing in the input field to search the table for text matches in Manager, Client, Job, or Comment:</p>

<input class="form-control" id="myInput" type="text" placeholder="Search..">

<br/>
<br/>

<table class="table table-striped table-hover table-bordered">
	<thead>
		<tr>
			<th>JobID</th>
			<th>Mgr Name</th>
			<th>Client</th>
			<th>Client/Job</th>
			<th class="text-right">Current Budget</th>
			<th class="text-right">Current Spend</th>
			<th class="text-right">Percent Spend</th>
			<th class="text-right">Percent Complete</th>
			<th class="text-right">EAC</th>
			<th>Forecast Finish WE</th>
			<th>Status Comment</th>
			<th>Edit</th>
			<th>ProjectProgID</th>
	</thead>
	<tbody id="myTable">
		@{
			foreach (var item in Model.ListJobStatus)
			{
				<tr>
					<td>@item.jobid</td>
					<td>@item.MgrName</td>
					<td>@item.Client</td>
					<td>@item.ClientJob</td>
					<td class="text-right">@String.Format("{0:C0}", item.CurrentBudget)</td>
					<td class="text-right">@String.Format("{0:C0}", item.CurrentCumulativeSpend)</td>
					<td class="text-right">@String.Format("{0:P0}", item.PercentSpent)</td>
					<td class="text-right">@String.Format("{0:P0}", item.PercentComplete)</td>
					<td class="text-right">@String.Format("{0:C0}", item.EACCost)</td>
					<td>@item.FinishDate.ToString("dd-MMM-yy")</td>
					<td>@item.comment</td>
					<td>
						<a href="" class="btn btn-primary">
							<span class="glyphicon glyphicon-pencil"></span> Edit
						</a>
					</td>
					<td>@item.ProjectProgID</td>
				</tr>
			}
		}
	</tbody>
</table>

<script>
	$(document).ready(function(){
	  $("#myInput").on("keyup", function() {
		var value = $(this).val().toLowerCase();
		$("#myTable tr").filter(function() {
		  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
		});
	  });
	});
</script>

